### Part 1. 시작하며

### 02. 1타 2피, 3피, 4피

"한두 가지 굉장히 중요한 어떤 방법(!)으로 해 봤더니,

여러가지 얻을 수 있는 이득이 많아~"

이런 방법이 있다고 하면 굉장히 좋을 것. 이것과 관련된 이야기...

**(1) 문제점의 중심**

- React와 Redux의 이득이 뭘까?
  React, Redux가 *가장 많은 문제*를 가지고 있는 것을 해결해 주면 가장 많은 이득을 우리한테 줄 수 있을 것이 뭘까?
  - 그러면, 가장 많은 문제점을 가지고 있는 것이 뭘까…?
    웹 애플리케이션을 개발함에 있어 가장 많은 문제점을 일으키는 요소는 무엇…? → **DOM API**
    - DOM API: html 문서를 브라우저에 렌더링하기 위해 그리고 그 안에 많은 것들을 작동시키기 위해서 가공 시켜 놓은 객체. 통칭해서 DOM API 혹은 DOM 이라고 부르기도 함.
  - DOM은 굉장히 중요함. javascript를 이용해서 웹 앱 UI를 핸들링할 수 있는 유일한 방법이 바로 ‘DOM API’를 이용하는 방법이기 때문.
  - 문제는 이 DOM API라고 하는 녀석은
    엄청나게 많은 기능을 제공해 주고 모든 것을 다 할 수 있게 해 주지만, 다루기가 굉장히 까다로움. → 웹 애플리케이션 이라는 형태를 만드는데 최적화된 형태로 되어 있지는 않음.
    - 애초에 목적이 웹 애플리케이션을 만들려고 하는 목적으로 설계된 건 아니었기 때문에 당연한 일일 수 있는 것…

**(2) SPA**

‘html’은 원래 문서. ‘html’ 문서 하나가 있고,

또 링크를 통해서 다른 ‘html’ 문서로 이동하면 기존 ‘html’ 문서는 사라지고

새로운 ‘html’이 로딩되는 그런 형태가 바로 ‘월드와이드 웹'. 우리가 얘기하는 ‘웹' 이라고 하는 형식.

그런데, ‘html’ 문서와 ‘html’ 문서로 이동할 때 화면이 깜빡임.

왜냐하면 기존 문서를 다 없애고 새로운 문서를 로딩 해야 되니까.

그리고 그 안에서 ‘Context’ 맥락이 있다거나 했어도 맥락도 사라지고 여러가지 이슈들이 있음.

하지만, 이걸 *애플리케이션*이라고 하는 관점에서 봤을 때,

*애플리케이션*은 화면을 여러 개 가지고 있는데

이 화면 단위가 페이지였다면 화면이 매번 껌뻑껌뻑 하면서 넘어감.

‘리로딩' 되기 때문에 그런 문제가 생기는데.

여러가지 화면으로 구성되어 있는 웹 페이지가 페이지가 아닌 *애플리케이션*으로 접근하게 된다고 하면,

이 문제는 *우리가 앱을 사용할 때 사용성은 나오지 않는 다는 문제*가 있음.

그래서 10여 년 전에 ‘AJAX’라고 하는 기술을 이용해

동적으로 ‘html’을 ‘자바스크립트'를 통해서 읽어들여 화면에 페이지 전환 없이 ‘UI’를 갱신한다라고 하면,

그건 단지 깜빡임이 없어진 일반적인 웹 페이지가 아니라

‘마치 *애플리케이션을 사용하는 사용성*을 사용자한테 제공해 주겠다’ 라고해서.

시도했는데 그게 굉장히 성공적으로 안착됨.

그래서 지금 웬만한 웹 페이지들은 싱글 페이지 애플리케이션이다 라고 할 수 있을 만큼 광범위하게 사용되고 있음.

‘React’나 ‘뷰' 같은 것들을 이용해서 애플리케이션을 만드는 것들이 모두 다 사실 싱글 페이지 애플리케이션을 만들고 있는 것.

_싱글 페이지 애플리케이션의 특징은_ 여러 가지가 있을 수 있지만,

우리가 관심 갖는 포인트로는 복잡도임.

관리해야 하는 상태도 많고 화면도 점점 많아져서.

애플리케이션 규모가 커지면 커질수록

그 안에서 다뤄야 하는 ‘UI’ 요소들이 굉장히 많음.

그런데 그렇게 _복잡해지고 규모가 커질수록 ‘DOM API’를 가지고_

_‘UI’를 만들면 굉장히 여러 가지 문제들이 생길 수 있는 구성을_

_‘DOM API’가 제공해 준다는 게 가장 큰 문제라고 할 수 있음._

(3) **DOM API 문제 살펴보기**

어떤 문제들이 있을까?

굉장히 많지만 검색을 해서 찾아보면,

실제 애플리케이션을 만드는 관점에서 ‘DOM API’가 갖고 있는 단점들은 굉장히 많이 발견할 수 있을 것.

- 크로스 브라우징(2.2/index.html 에 예시)

(4) **MVC, MVVM**

싱글 페이지 애플리케이션이라고 하는 것이 규모가 커지면 커질수록

복잡도가 굉장히 늘어남. 왜냐면 하나의 애플리케이션이니까.

웹페이지처럼 화면이 바뀌면 모든 게 다 ‘reload’ 돼서 새로 갱신되고

해당 화면에서만 다루는 상태를 다루는 ‘코드'만 따로 격리되어 있는게 아니라는 것.

모든 화면에 들어가 있는 다양한 데이터들.

즉 우리가 상태라고 부르는 것들을 모두 애플리케이션 단위에서 계속 유지하고 관리해야 되니까

아까 같은 참조 무결성의 원칙들이 위배되거나

혹은 뭔가 혼란스럽고 미묘하게 작동되는 것들은

다양한 버그를 일으킬 수 있는 가능성을 가지고 있다 라고 할 수 있음.

그래서 어떤 것들을 시도했느냐?

애플리케이션을 작성함에 있어서 저렇게 복잡할 수 있는데

규모가 커져도 복잡도는 좀 더 낮출 수 있는 프로그램의 패턴은 뭐가 있을까라는 것들을

굉장히 많이 고민을 하게 됨.

- mvc

클라이언트 애플리케이션을 만들면서 많이 접하는 패턴 중에 하나가 이제 ‘mvc’ 패턴.

성격이 다른 것들.

예를 들면 ‘UI’ 요소 그리고 비즈니스 ‘로직' 그리고 데이터

이렇게 성격이 다른 애들이 ‘뒤섞여’ 있으면 복잡도가 높아진다.

그러니 이걸 좀 분리해서 복잡도를 낮춰보자는 접근 방식.

비슷한 것들끼리 이렇게 모아 놓으면 복잡도가 낮아지니까.

그렇다고 뭐 어떤 형태로 분리할 것인가라고 했을 때

모델/뷰/컨트롤러 를 분리해서

규모가 커져도 이 패턴 내에서 규모가 커져서

사이즈는 커지더라도 복잡도가 더 증가하지 않게…

뭐 이런 패턴들…

그리고 요즘에 와서는 _클라이언트 애플리케이션들의 ‘로직'들이 훨씬 더 많아지고_

_‘뷰'들도 굉장히 많다 보니까_

‘mvc’ 패턴 같은 경우에는 모델이 서버의 모델과 굉장히 종속성을 많이 갖고 있게 됨.

_그래서 서버가 바뀌면 클라이언트도 굉장히 많은 영향을 받게 되는 단점들을 갖고 있음._

- mvvm

  클라이언트에 좀 맞는 패턴이 있으면 좋겠다라고 해서 나온 패턴이 바로 ‘mvvm’이라고 하는 패턴.

  모델-뷰-뷰모델 이라고 하는 컨셉.

  이거는 클라이언트 쪽에서 상태를 좀 독립적으로 가지고 있고

  독립적 상태를 잘 유지관리할 수 있는

  여러 가지 컨셉들이 들어가 있는 패턴임.

  2005년도에 제안된 모델임. (16년…)

  오래된 패턴이지만, 우리가 많이 사용하는 프레임워크, 라이브러리들… React, Vue, Angular, …에 굉장히 지대한 영향을 미친 패턴이라고 할 수 있음.

  이런 류의 ‘소프트웨어' 패턴 같은 것들도

  클라이언트 애플리케이션들이 규모가 커지지만,

  복잡도는 일정 수준으로 유지하기 위한 여러 가지 방법

  그리고 시도들 중 하나라는 것.

  그리고 여기서 말하는 ‘뷰'라고 하는 ‘mvc’든 ‘mvvm’이든

  ‘DOM’을 이용한 ‘UI’요소를 다루는 부분에 굉장히 많이 치중되어 있고

  이런 패턴들도 어쨌든 간에 ‘DOM API’의 자체 문제점을 개선시켜주지는 않음.

  [microsoft docs](https://docs.microsoft.com/ko-kr/windows/uwp/data-binding/data-binding-and-mvvm)
  [블로그. 정리잘된.](https://beomy.tistory.com/43)

- React
  그러면 ‘DOM API’의 문제점을 개선시켜주는 모델은 무엇이 있을까?
  지금까지 나온 것 중에 가장 성공적인 건 바로 이제
  ‘React’가 제시한 모델이 가장 성공적인…
  ‘DOM’의 여러 가지 문제점들을 개선하기 위한 시도는
  올드 한 버전으로 ‘jQuery’같은 것들이 있음.
  ‘DOM’이 워낙 까다롭고 복잡하고 ‘Cross browsing’ 이슈도 많고 하니
  그런 것들을 사용하기 단순하게 내가 만들어 줄게라고 하는 컨셉이 이제
  ‘jQuery’의 모델인데 ‘jQuery’도 기본적으로 ‘DOM’을 쉽게 포장했을 뿐.
  근본적으로 ‘DOM’이 가지고 있는 문제점들을 해결해주지는 못함.
  규모가 커졌을 때 복잡도도 따라서 올라갈 수밖에 없고,
  문제점들을 그대로 갖고 있기 때문에 그렇음.

‘React’는 거기서 이 세션의 제목과 같이

‘1타 2피, 3피, 4피' 하기 위한 컨셉을 발견함.

그 컨셉은 바로 ‘DOM’ 자체를 쓰지 않는 것. 😳

(DOM 자체를 쓰지 않아…??? 그럼 UI핸들링은…??? → 차차…)

어쨌든 핵심적인 컨셉. 즉 ‘DOM’이 문제라면 ‘DOM’ 자체를 쓰지 말자라고 하는 컨셉을 성공적으로 안착 시키면서 웹 애플리케이션 개발의 패러다임을 굉장히 많이 바꿔 놓은 게 ‘React’라고 하는 녀석의 가장 큰 가치…⭐️

그럼 우리는 차근차근 DOM API를 쓰지 않고 React는 어떻게 그런 문제점을 해결할 수 있었을까라고 하는 이야기를 차근차근 조금씩 조금씩 한번 전개해 나가 보도록 할 것…!
